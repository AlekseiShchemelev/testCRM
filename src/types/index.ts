// src/types/index.ts - TypeScript интерфейсы и типы
/**
 * Этот файл содержит все TypeScript типы и интерфейсы,
 * используемые в приложении. Правильная типизация обеспечивает:
 * - Безопасность типов на этапе компиляции
 * - Автокомплит в IDE
 * - Документирование структуры данных
 * - Защиту от ошибок при разработке
 */

/**
 * Client - интерфейс для представления клиента риелтора
 *
 * Структура данных клиента включает:
 * - Основную информацию (ФИО, телефон, адрес)
 * - Информацию о встрече (дата, статус)
 * - Дополнительные поля (фото, комментарии)
 *
 * Используется в:
 * - Формах добавления/редактирования клиентов
 * - Списках клиентов
 * - Карточках клиентов
 * - Firebase Firestore для хранения данных
 */
export interface Client {
  /** Уникальный идентификатор клиента (генерируется Firebase) */
  id?: string;

  /** Полное имя клиента (обязательное поле) */
  fullName: string;

  /** Номер телефона клиента (обязательное поле) */
  phone: string;

  /** Адрес объекта недвижимости (обязательное поле) */
  address: string;

  /** Дата и время встречи в формате ISO string (обязательное поле) */
  meetingDate: string;

  /** Статус встречи с клиентом */
  status: "planned" | "completed" | "cancelled";

  /** Дата создания записи в формате ISO string */
  createdAt: string;

  /** Массив URL фотографий объекта недвижимости (опционально) */
  propertyPhotos?: string[];

  /** Ссылка на объявление (опционально) */
  listingUrl?: string;

  /** Дополнительные комментарии о клиенте или объекте (опционально) */
  comments?: string;
}

/**
 * HistoryEntry - интерфейс для представления записи в истории действий
 *
 * Позволяет отслеживать все действия пользователя:
 * - Создание/изменение/удаление клиентов
 * - Изменение статуса встреч
 * - Временные метки всех действий
 *
 * Используется в:
 * - Странице истории действий
 * - Сервисе historyService
 * - Firebase Firestore для аудита действий
 */
export interface HistoryEntry {
  /** Уникальный идентификатор записи истории (генерируется Firebase) */
  id?: string;

  /** ID клиента, с которым связано действие */
  clientId: string;

  /** Тип выполненного действия */
  action:
    | "created"
    | "updated"
    | "deleted"
    | "meeting_completed"
    | "meeting_cancelled";

  /** Временная метка выполнения действия в формате ISO string */
  timestamp: string;

  /** Дополнительные детали действия (опционально) */
  details?: string;
}
